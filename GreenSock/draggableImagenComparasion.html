<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draggable Basics</title>
    <link rel="stylesheet" href="./assets/css/draggable.css">
</head>

<body>


    <h1>Mova para comparar</h1>

    <div class="before-after">
        <div class="view view-before"><img src="./assets/img/ast.jpeg" /></div>
        <div class="view view-after"><img src="./assets/img/ast2.jpeg" /></div>
        <div id="drag-me"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/EasePack.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/Draggable.min.js"></script>

    <script>
        const dragMe = document.getElementById('drag-me');
        const container = document.querySelector('.before-after');
        const viewAfter = document.querySelector('.view-after');

        Draggable.create(dragMe, {
            type: 'left',
            bounds: container,
            onDrag: updateImages
        });

        function updateImages() {
            TweenLite.set(viewAfter, {
                zIndex: 3,
                width: dragMe.style.left
            });
        }

        function animateTo(width) {
            TweenLite.to(dragMe, 1, {
                left: width,
                onUpdate: updateImages
            });
        }

        animateTo(300);
    </script>
</body>

</html>